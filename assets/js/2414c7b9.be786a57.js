"use strict";(self.webpackChunkarchive_view=self.webpackChunkarchive_view||[]).push([[6461],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||l;return n?r.createElement(h,i(i({ref:t},u),{},{components:n})):r.createElement(h,i({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:a,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},85177:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const l={},i="1.1.1 Architecture of the Archive Viewer",o={unversionedId:"Installation Manual/Introduction_OAV/1.1Components_AV/1.1.1Architecture_AV/1.1.1Architecture_AV",id:"Installation Manual/Introduction_OAV/1.1Components_AV/1.1.1Architecture_AV/1.1.1Architecture_AV",title:"1.1.1 Architecture of the Archive Viewer",description:"You can find the Optim Convert Archive File to CSV utility in the",source:"@site/docs/Installation Manual/1.Introduction_OAV/1.1Components_AV/1.1.1Architecture_AV/1.1.1Architecture_AV.md",sourceDirName:"Installation Manual/1.Introduction_OAV/1.1Components_AV/1.1.1Architecture_AV",slug:"/Installation Manual/Introduction_OAV/1.1Components_AV/1.1.1Architecture_AV/",permalink:"/estuate2/daa/archive-viewer/docs/next/Installation Manual/Introduction_OAV/1.1Components_AV/1.1.1Architecture_AV/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"1.1 Components of the Archive Viewer",permalink:"/estuate2/daa/archive-viewer/docs/next/Installation Manual/Introduction_OAV/1.1Components_AV/"},next:{title:"1.1.2 Deployment Model for the Archive Viewer",permalink:"/estuate2/daa/archive-viewer/docs/next/Installation Manual/Introduction_OAV/1.1Components_AV/1.1.2Deployment_AV/"}},s={},p=[{value:"Typical Architecture of the Optim Archive Viewer",id:"typical-architecture-of-the-optim-archive-viewer",level:3},{value:"Prerequisites for the supported databases",id:"prerequisites-for-the-supported-databases",level:2},{value:"DB2 for Linux, Unix and Windows",id:"db2-for-linux-unix-and-windows",level:3},{value:"SQL Server",id:"sql-server",level:2},{value:"MySQL",id:"mysql",level:2},{value:"Oracle",id:"oracle",level:2},{value:"PostgreSQL",id:"postgresql",level:2},{value:"SQLite",id:"sqlite",level:2}],u={toc:p},c="wrapper";function d(e){let{components:t,...l}=e;return(0,a.kt)(c,(0,r.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"111-architecture-of-the-archive-viewer"},"1.1.1 Architecture of the Archive Viewer"),(0,a.kt)("p",null,"You can find the Optim Convert Archive File to CSV utility in the\nArchive File Access, the Archive and Data Growth Solution and the\nSolution for Application Retirement."),(0,a.kt)("p",null,"The Archive Viewer metadata database is used to store the objects\nthat are needed for processing and tracking the status of processes."),(0,a.kt)("p",null,"A typical and a detailed architecture of the Archive Viewer are shown below"),(0,a.kt)("h3",{id:"typical-architecture-of-the-optim-archive-viewer"},"Typical Architecture of the Optim Archive Viewer"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Typical Architecture of the Optim Archive Viewer",src:n(58567).Z,width:"1089",height:"422"})),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Detailed Architecture of the Optim Archive Viewer",src:n(32192).Z,width:"724",height:"455"})),(0,a.kt)("h2",{id:"prerequisites-for-the-supported-databases"},"Prerequisites for the supported databases"),(0,a.kt)("h3",{id:"db2-for-linux-unix-and-windows"},"DB2 for Linux, Unix and Windows"),(0,a.kt)("p",null,"For DB2, you must install ibm_db_sa==0.3.8 & SqlAlchemy version needs to be downgraded to 1.4.47 to connect local and remote DB2 instances by running the below command."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"}," pip install ibm_db_sa==0.3.8\n")),(0,a.kt)("p",null,"It is recommended to create a new user and a database and make the\nuser as the database owner with DBADM, IMPLICIT_SCHEMA,\nBINDADD, CREATE_NOT_FENCED_ROUTINE privileges. Make\nsure that the DB2 page size is set to 8k."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"In Windows : Follow the steps given if you encounter the below Error")),(0,a.kt)("admonition",{type:"warning"},(0,a.kt)("p",{parentName:"admonition"},"Connection Refused due to\nibm_db_dbi::ProgrammingError: ","[IBM][cli driver]","\nSQL1042C An unexpected system error occurred. SQLSTATE=58004 SQLCODE=-1042")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Run the below command to find the location of your sitepackages directory")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"pip show ibm_db_sa\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"For Example :")," the directory is ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"C:\\python\\lib\\site-packages."))),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Modify the PATH environment variable to append the following\ndirectory to the PATH:"),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"C:\\python\\lib\\site-packages\\clidriver\\bin\\amd64.VC12.CR"))))),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"If you do not have permissions to modify the PATH, you\ncan copy the contents (2 .dll files) of the\n",(0,a.kt)("inlineCode",{parentName:"p"},"amd64.VC12.CRT")," directory into the directory, where the\nprocess takes place when python runs.")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"After modifying the PATH, test the database connection. The\nerror message will not occur.\nFor more details about this issue, see the following site")),(0,a.kt)("p",null,"\ud83d\udc49 ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ibmdb/python-ibmdb/issues/599"},"https://github.com/ibmdb/python-ibmdb/issues/599")),(0,a.kt)("h2",{id:"sql-server"},"SQL Server"),(0,a.kt)("p",null,"For SQL Server, the python and the ODBC system libraries are\nrequired."),(0,a.kt)("p",null,"For instructions to install and configure the ODBC library, see the\nDownload ODBC Driver for SQL Server section at the following\nsite:"),(0,a.kt)("p",null,"\ud83d\udc49 ",(0,a.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/sql/connect/odbc/download-odbc-driver-for-sql-server?view=sql-server-ver16"},"https://learn.microsoft.com/en-us/sql/connect/odbc/download-odbc-driver-for-sql-server?view=sql-server-ver16")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The Archive Viewer application supports Microsoft ODBC\nDriver 18 for SQL Server only.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Run")," the below command to install the python library, pyodbc"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"pip install pyodbc==4.0.35\n")),(0,a.kt)("p",null,"After the installation and configuration, you should create a user, the\nmember of ",(0,a.kt)("strong",{parentName:"p"},"db_datareader, bd_datawriter and db_ddladmin")),(0,a.kt)("h2",{id:"mysql"},"MySQL"),(0,a.kt)("p",null,"For MySQL, the system library is not required, however, the\napplication connects to the DB with pymysql."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Run")," the below command to install the DB:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"pip install pymysql==1.0.2\n")),(0,a.kt)("p",null,"It is recommended to create a new user and a database and make the\nuser as the database owner."),(0,a.kt)("h2",{id:"oracle"},"Oracle"),(0,a.kt)("p",null,"For Oracle database, you should use cx_oracle, which is required for\noracle thin client libraries. Alternatively, you can use the python oracledb package, which does not require client installation.\nRun the below command to install this package:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"pip install oracledb==1.2.1\n")),(0,a.kt)("p",null,"It is recommended to create different users with\n",(0,a.kt)("strong",{parentName:"p"},"CREATE TABLE, CREATE SEQUENCE, UNLIMITED TABLE SPACE")," and\n",(0,a.kt)("strong",{parentName:"p"},"CREATE SESSION")," privileges."),(0,a.kt)("h2",{id:"postgresql"},"PostgreSQL"),(0,a.kt)("p",null,"For PostgreSQL, the installation of any system library is not required because pip package, ",(0,a.kt)("inlineCode",{parentName:"p"},"psycopg2-binary==2.9.3"),", connects to DB\nwithout an external DB thin client."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Run")," the Command below to install this package:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"pip install psycopg2-binary==2.9.5\n")),(0,a.kt)("p",null,"It is recommended to create a new user and a database and make the\nuser as the database owner."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Run")," the series of Commands using postgres admin user as follows:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Create a database."),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"CREATE DATABASE < DBName >"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Create a user with the following details."),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"CREATE ROLE < UserName > WITH")),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"LOGIN")),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"NOSUPERUSER")),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"NOCREATEDB")),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"NOCREATEROLE")),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"NOINHERIT")),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"NOREPLICATION")),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"CONNECTION LIMIT 10")),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},'PASSWORD "passwd"'))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Change the database owner from an existing user to the new user."),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"ALTER DATABASE < DBName > OWNER TO < UserName >;"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Switch to the user."),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"CREATE SCHEMA < SchemaName >")))),(0,a.kt)("h2",{id:"sqlite"},"SQLite"),(0,a.kt)("p",null,"The SQLlite driver is in-built in pyhton3 and hence, the installation\nof any pip library is not required."),(0,a.kt)("p",null,"If the hosting server is Linux and python3.9 must be installed\nmanually, then ensure that the sqlite-devel package is installed before\ninstalling python3.9."),(0,a.kt)("p",null,"The supported versions and required privileges for these databases\nare listed in the below table."),(0,a.kt)("table",{class:"tableAlign"},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{backgroundColor:"#22d3ee"}},(0,a.kt)("td",null,(0,a.kt)("strong",null,"DATABASE")),(0,a.kt)("td",null,(0,a.kt)("strong",null,"VERSION")),(0,a.kt)("td",null,(0,a.kt)("strong",null,"PRIVILEGES"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("strong",null,"Oracle")),(0,a.kt)("td",null,(0,a.kt)("li",null,"12c"),(0,a.kt)("li",null,"18c"),(0,a.kt)("li",null,"19c"),(0,a.kt)("li",null,"21c")),(0,a.kt)("td",null,(0,a.kt)("li",null,"CREATE TABLE"),(0,a.kt)("li",null,"CREATE SEQUENCE"),(0,a.kt)("li",null,"UNLIMITED TABLESPACE"),(0,a.kt)("li",null,"UNLIMITED TABLESPACE"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("strong",null,"MySql")),(0,a.kt)("td",null,"8.0.31"),(0,a.kt)("td",null,"DB owner")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("strong",null,"SQL Server")),(0,a.kt)("td",null,(0,a.kt)("li",null,"2017")," ",(0,a.kt)("li",null,"2019"),(0,a.kt)("li",null,"2022")),(0,a.kt)("td",null,(0,a.kt)("li",null,"Schema owne")," ",(0,a.kt)("li",null,"Member of db_datareader")," ",(0,a.kt)("li",null,"dbd_datawriter and db_ddladmin "))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("strong",null,"Postgres")),(0,a.kt)("td",null,(0,a.kt)("li",null,"15")," ",(0,a.kt)("li",null,"14")),(0,a.kt)("td",null,(0,a.kt)("li",null,"dDB owner and a schema with the same name as user"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("strong",null,"DB2")),(0,a.kt)("td",null,"DB2\xae for Linux and Windows, Version 9.1 Fix Pack 2 and later"),(0,a.kt)("td",null,(0,a.kt)("li",null,"DBADM")," ",(0,a.kt)("li",null,"IMPLICIT_SCHEMA")," ",(0,a.kt)("li",null,"BINDADD")," ",(0,a.kt)("li",null,"CREATE_NOT_FENCED_ROUTINE"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("strong",null,"SQLite")),(0,a.kt)("td",null,"3"),(0,a.kt)("td",null,"NA")))))}d.isMDXComponent=!0},58567:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/1.1.1archive-viewer-arch-777e5094163639f6dfcd67529208eff0.png"},32192:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/1.1.1modernised-arch-755ba61920412112ce4062b11ba7ae86.png"}}]);